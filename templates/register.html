<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <title>Register</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.3/css/bootstrap.min.css" integrity="sha384-MIwDKRSSImVFAZCVLtU0LMDdON6KVCrZHyVQQj6e8wIEJkW4tvwqXrbMIya1vriY" crossorigin="anonymous">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>

  <style>
    h1 {
      text-align: center;
    }
  </style>
</head>
<body>
  <h1>Register</h1>

  <div class="container">
    <div class="col-md-4">
      <form data-bind="submit: request">
        Email<input class="form-control" data-bind="textInput: email" required>
        Display Name<input class="form-control" data-bind="textInput: name" required>
        Password<input class="form-control" data-bind="textInput: password" type="password" required>
        Verify Password<input class="form-control" data-bind="textInput: verification" type="password" required>
        <button type="submit" style="float: right;">Submit</button>
      </form>
    </div>
  </div>

  <script>
    var registrationViewModel = {
      email: ko.observable(),
      name: ko.observable(),
      password: ko.observable(),

      request: function() {
        var url = window.location.protocol + "//" + window.location.hostname +
            (window.location.port ? ":" + window.location.port.toString() : "") + "/new";
        var connection = new XMLHttpRequest();
        connection.open("POST", url, false);
        connection.setRequestHeader("Content-type", "application/json");
        var res = connection.send(ko.toJSON(this));

        window.location = window.location.protocol + "//" + window.location.hostname +
            (window.location.port ? ":" + window.location.port.toString() : "") + "/";
      }
    };

    ko.applyBindings(registrationViewModel);
  </script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.3/js/bootstrap.min.js" integrity="sha384-ux8v3A6CPtOTqOzMKiuo3d/DomGaaClxFYdCu2HPMBEkf6x2xiDyJ7gkXU0MWwaD" crossorigin="anonymous"></script>
</body>
</html>
